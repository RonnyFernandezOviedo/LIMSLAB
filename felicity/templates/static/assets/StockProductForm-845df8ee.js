import{d as ee,bi as te,S as se,aL as le,aI as oe,r as ie,o as u,c as r,b as e,e as E,u as s,I as c,x as o,f as n,H as _,aa as v,F as w,y as f,v as O,G as ae,z as ne,A as de,B as ue}from"./index-7fd050f3.js";import re from"./vue-multiselect.esm-d990852f.js";import{c as T,a as m,d as g,f as H,u as ce,b as p}from"./array-cb999ae2.js";import{l as pe}from"./inventory.mutations-1987aee7.js";const me=["inert"],_e={class:"flex items-center whitespace-nowrap w-full"},ve=e("span",{class:"text-gray-700 w-4/12"},"Stock Item",-1),we={class:"w-full"},fe={class:"text-orange-600 w-4/12"},he={class:"flex items-center whitespace-nowrap w-full"},Ue=e("span",{class:"text-gray-700 w-4/12"},"Name",-1),ge={class:"w-full"},xe={class:"text-orange-600 w-4/12"},ye={class:"flex items-center whitespace-nowrap w-full"},be=e("span",{class:"text-gray-700 w-4/12"},"Department",-1),ke=e("option",{value:"null"},null,-1),Se=["value"],Re={class:"text-orange-600 w-4/12"},qe={class:"flex items-center whitespace-nowrap w-full"},Ve=e("span",{class:"text-gray-700 w-4/12"},"Category",-1),De=e("option",{value:"null"},null,-1),ze=["value"],Ie={class:"text-orange-600 w-4/12"},Ne={class:"flex items-center whitespace-nowrap w-full"},Be=e("span",{class:"text-gray-700 w-4/12"},"Hazard",-1),Pe=e("option",{value:"null"},null,-1),Ae=["value"],Ce={class:"text-orange-600 w-4/12"},Fe={class:"flex items-center whitespace-nowrap w-full"},Le=e("span",{class:"text-gray-700 w-4/12"},"Store Room",-1),Me=e("option",{value:"null"},null,-1),Ee=["value"],Oe={class:"text-orange-600 w-4/12"},Te={class:"flex items-center whitespace-nowrap w-full"},He=e("span",{class:"text-gray-700 w-4/12"},"Supplier",-1),Qe=e("option",{value:"null"},null,-1),$e=["value"],je={class:"text-orange-600 w-4/12"},Ge={class:"flex items-center whitespace-nowrap w-full"},Ke=e("span",{class:"text-gray-700 w-4/12"},"Lot Number",-1),Je={class:"w-full"},We={class:"text-orange-600 w-4/12"},Xe={class:"flex items-center whitespace-nowrap w-full"},Ye=e("span",{class:"text-gray-700 w-4/12"},"Batch",-1),Ze={class:"w-full"},et={class:"text-orange-600 w-4/12"},tt={class:"flex items-center whitespace-nowrap w-full"},st=e("span",{class:"text-gray-700 w-4/12"},"Size",-1),lt={class:"w-full"},ot={class:"text-orange-600 w-4/12"},it={class:"flex items-center whitespace-nowrap w-full"},at=e("span",{class:"text-gray-700 w-4/12"},"Unit",-1),nt=e("option",{value:"null"},null,-1),dt=["value"],ut={class:"text-orange-600 w-4/12"},rt={class:"flex items-center whitespace-nowrap w-full"},ct=e("span",{class:"text-gray-700 w-4/12"},"Packaging",-1),pt=e("option",{value:"null"},null,-1),mt=["value"],_t={class:"text-orange-600 w-4/12"},vt={class:"flex items-center whitespace-nowrap w-full"},wt=e("span",{class:"text-gray-700 w-4/12"},"Quantity Received",-1),ft={class:"w-full"},ht={class:"text-orange-600 w-4/12"},Ut={class:"flex items-center whitespace-nowrap w-full"},gt=e("span",{class:"text-gray-700 w-4/12"},"Price ",-1),xt={class:"w-full"},yt={class:"text-orange-600 w-4/12"},bt={class:"flex items-center whitespace-nowrap w-full"},kt=e("span",{class:"text-gray-700 w-4/12"},"Received Date",-1),St={class:"w-full"},Rt={class:"text-orange-600 w-4/12"},qt={class:"flex items-center whitespace-nowrap w-full"},Vt=e("span",{class:"text-gray-700 w-4/12"},"Expiry Date",-1),Dt={class:"w-full"},zt={class:"text-orange-600 w-4/12"},It={class:"flex items-center whitespace-nowrap w-full"},Nt=e("span",{class:"text-gray-700 w-4/12"},"Received By",-1),Bt=e("option",{value:"null"},null,-1),Pt=["value"],At={class:"text-orange-600 w-4/12"},Ct=e("hr",{class:"my-4"},null,-1),Ft={type:"submit",class:"-mb-4 w-1/5 border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"},Tt=ee({__name:"StockProductForm",props:{product:Object},emits:["close"],setup(Q,{emit:$}){const j=ne(()=>de(()=>import("./LoadingMessage-42d5345f.js"),["assets/LoadingMessage-42d5345f.js","assets/LoadingMessage.vue_vue_type_script_setup_true_lang-24b3949b.js","assets/index-7fd050f3.js","assets/index-a964bbb1.css"])),a=Q,G=$,h=te(),L=se(),K=le(),J=oe(),{withClientMutation:W}=ue(),U=ie(!1),X=T({uid:m(),name:m().nullable(),stockItem:T().required("StockItem is required"),departmentUid:m().nullable(),supplierUid:m().required(),categoryUid:m().required(),hazardUid:m().required("Hazard type is required"),storeRoomUid:m().required("Store room is required"),lotNumber:m().required(),batch:m().required(),size:g().required(),unitUid:m().required(),packagingUid:m().required(),price:g().nullable(),quantityReceived:g().required("Quantity received is required"),remaining:g().nullable(),dateReceived:H().required("Date received is required"),expiryDate:H().required("Date expiring is required"),receivedByUid:m().required("Receiver is required")}),{handleSubmit:Y,errors:d}=ce({validationSchema:X,initialValues:{uid:a.product?.uid,name:a.product?.name,stockItem:a.product?.stockItem,departmentUid:a.product?.departmentUid,supplierUid:a.product?.supplierUid,categoryUid:a.product?.categoryUid,hazardUid:a.product?.hazardUid,storeRoomUid:a.product?.storeRoomUid,lotNumber:a.product?.lotNumber,batch:a.product?.batch,size:a.product?.size,unitUid:a.product?.unitUid,packagingUid:a.product?.packagingUid,price:a.product?.price,quantityReceived:a.product?.quantityReceived,expiryDate:a.product?.expiryDate,dateReceived:a.product?.dateReceived,receivedByUid:a.product?.receivedByUid}}),{value:x}=p("name"),{value:y}=p("stockItem"),{value:b}=p("departmentUid"),{value:k}=p("supplierUid"),{value:S}=p("categoryUid"),{value:R}=p("hazardUid"),{value:q}=p("storeRoomUid"),{value:V}=p("lotNumber"),{value:D}=p("batch"),{value:z}=p("size"),{value:I}=p("unitUid"),{value:N}=p("packagingUid"),{value:B}=p("price"),{value:P}=p("quantityReceived"),{value:A}=p("dateReceived"),{value:C}=p("expiryDate"),{value:F}=p("receivedByUid"),M=Y(i=>{i?.uid||Z(i)});function Z(i){U.value=!0,W(pe,{payload:{name:i.name,stockItemUid:i.stockItem.uid,departmentUid:i.departmentUid,supplierUid:i.supplierUid,categoryUid:i.categoryUid,hazardUid:i.hazardUid,storeRoomUid:i.storeRoomUid,lotNumber:i.lotNumber,batch:i.batch,size:i.size,unitUid:i.unitUid,packagingUid:i.packagingUid,price:i.price,quantityReceived:i.quantityReceived,dateReceived:i.dateReceived,expiryDate:i.expiryDate,receivedByUid:i.receivedByUid}},"createStockProduct").then(l=>{h.addStockProduct(l)}).finally(()=>{U.value=!1,G("close")})}return(i,l)=>(u(),r("form",{onSubmit:l[17]||(l[17]=ae((...t)=>s(M)&&s(M)(...t),["prevent"])),class:"rounded-sm py-2",autocomplete:"off",inert:U.value},[e("label",_e,[ve,e("div",we,[E(s(re),{placeholder:"Select a Stock Item",modelValue:s(y),"onUpdate:modelValue":l[0]||(l[0]=t=>c(y)?y.value=t:null),options:s(h).stockItems,searchable:!0,label:"name","track-by":"uid"},null,8,["modelValue","options"]),e("div",fe,o(s(d).stockItem),1)])]),e("label",he,[Ue,e("div",ge,[n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[1]||(l[1]=t=>c(x)?x.value=t:null),placeholder:"Product Name..."},null,512),[[_,s(x)]]),e("div",xe,o(s(d).name),1)])]),e("label",ye,[be,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[2]||(l[2]=t=>c(b)?b.value=t:null)},[ke,(u(!0),r(w,null,f(s(L).departments,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,Se))),128))],512),[[v,s(b)]])]),e("div",Re,o(s(d).departmentUid),1),e("label",qe,[Ve,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[3]||(l[3]=t=>c(S)?S.value=t:null)},[De,(u(!0),r(w,null,f(s(h).categories,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,ze))),128))],512),[[v,s(S)]])]),e("div",Ie,o(s(d).categoryUid),1),e("label",Ne,[Be,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[4]||(l[4]=t=>c(R)?R.value=t:null)},[Pe,(u(!0),r(w,null,f(s(h).hazards,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,Ae))),128))],512),[[v,s(R)]])]),e("div",Ce,o(s(d).hazardUid),1),e("label",Fe,[Le,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[5]||(l[5]=t=>c(q)?q.value=t:null)},[Me,(u(!0),r(w,null,f(s(K).storeRooms,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,Ee))),128))],512),[[v,s(q)]])]),e("div",Oe,o(s(d).storeRoomUid),1),e("label",Te,[He,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[6]||(l[6]=t=>c(k)?k.value=t:null)},[Qe,(u(!0),r(w,null,f(s(L).suppliers,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,$e))),128))],512),[[v,s(k)]])]),e("div",je,o(s(d).supplierUid),1),e("label",Ge,[Ke,e("div",Je,[n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[7]||(l[7]=t=>c(V)?V.value=t:null),placeholder:"Lot Number..."},null,512),[[_,s(V)]]),e("div",We,o(s(d).lotNumber),1)])]),e("label",Xe,[Ye,e("div",Ze,[n(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":l[8]||(l[8]=t=>c(D)?D.value=t:null),placeholder:"Batch Number..."},null,512),[[_,s(D)]]),e("div",et,o(s(d).batch),1)])]),e("label",tt,[st,e("div",lt,[n(e("input",{class:"form-input mt-1 block w-full",type:"number","onUpdate:modelValue":l[9]||(l[9]=t=>c(z)?z.value=t:null),placeholder:"Size..."},null,512),[[_,s(z)]]),e("div",ot,o(s(d).size),1)])]),e("label",it,[at,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[10]||(l[10]=t=>c(I)?I.value=t:null)},[nt,(u(!0),r(w,null,f(s(h).units,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,dt))),128))],512),[[v,s(I)]])]),e("div",ut,o(s(d).unitUid),1),e("label",rt,[ct,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[11]||(l[11]=t=>c(N)?N.value=t:null)},[pt,(u(!0),r(w,null,f(s(h).packages,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.name),9,mt))),128))],512),[[v,s(N)]])]),e("div",_t,o(s(d).packagingUid),1),e("label",vt,[wt,e("div",ft,[n(e("input",{class:"form-input mt-1 block w-full",type:"number","onUpdate:modelValue":l[12]||(l[12]=t=>c(P)?P.value=t:null),placeholder:"Quantity Received..."},null,512),[[_,s(P)]]),e("div",ht,o(s(d).quantityReceived),1)])]),e("label",Ut,[gt,e("div",xt,[n(e("input",{class:"form-input mt-1 block w-full",type:"number","onUpdate:modelValue":l[13]||(l[13]=t=>c(B)?B.value=t:null),placeholder:"Price..."},null,512),[[_,s(B)]]),e("div",yt,o(s(d).price),1)])]),e("label",bt,[kt,e("div",St,[n(e("input",{class:"form-input mt-1 w-full",type:"date","onUpdate:modelValue":l[14]||(l[14]=t=>c(A)?A.value=t:null),placeholder:"Received Date"},null,512),[[_,s(A)]]),e("div",Rt,o(s(d).dateReceived),1)])]),e("label",qt,[Vt,e("div",Dt,[n(e("input",{class:"form-input mt-1 w-full",type:"date","onUpdate:modelValue":l[15]||(l[15]=t=>c(C)?C.value=t:null),placeholder:"Expiry Date"},null,512),[[_,s(C)]]),e("div",zt,o(s(d).expiryDate),1)])]),e("label",It,[Nt,n(e("select",{class:"form-select ml-1 mt-1 w-full","onUpdate:modelValue":l[16]||(l[16]=t=>c(F)?F.value=t:null)},[Bt,(u(!0),r(w,null,f(s(J).users,t=>(u(),r("option",{key:t.uid,value:t.uid},o(t.firstName)+" "+o(t.lastName),9,Pt))),128))],512),[[v,s(F)]])]),e("div",At,o(s(d).receivedByUid),1),Ct,n(e("button",Ft," Save ",512),[[O,!U.value]]),n(E(s(j),{message:"Adding Inventory ..."},null,512),[[O,U.value]])],40,me))}});export{Tt as default};
