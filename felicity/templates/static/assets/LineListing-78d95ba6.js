import{d as C,a9 as R,b9 as V,Q as A,s as E,o as i,c as l,e as m,w as c,h,b as e,u as d,F as y,y as g,x as a,f as n,v as x,aa as _,H as v,G as L,z as P,A as T,X as U}from"./index-e479c930.js";const B={class:"bg-white p-2"},M={class:"overflow-x-auto my-4"},G={key:0,class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-sm rounded-br-sm"},N={class:"min-w-full"},Y=e("thead",null,[e("tr",null,[e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left leading-4 text-gray-800 tracking-wider"},[e("input",{type:"checkbox"})]),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left leading-4 text-gray-800 tracking-wider"}," Report Type "),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"}," Generated By "),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"}," Date Generated "),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"}," Period Start "),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"}," Period End "),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"}," Status "),e("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1),$={class:"bg-white"},j=e("td",null,[e("input",{type:"checkbox"})],-1),q={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},I={class:"text-sm leading-5 text-sky-800"},O={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},z={class:"text-sm leading-5 text-sky-800"},H={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},Q={class:"text-sm leading-5 text-sky-800"},X={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},J={class:"text-sm leading-5 text-sky-800"},K={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},W={class:"text-sm leading-5 text-sky-800"},Z={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},ee={class:"text-sm leading-5 text-sky-800"},te={class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},se=["onClick"],oe=["onClick"],ae={key:1,class:"py-4 pl-4 bg-white"},ne=e("p",{class:"text-orange-600"},"There are no downloaded reports yet",-1),ie=e("hr",null,null,-1),le=e("p",{class:"italic"}," Once a download request has been done. Your reports will be appear here ",-1),de=[ne,ie,le],re={class:"my-4"},ce={action:"post",class:"p-1"},_e={class:"grid grid-cols-3 gap-x-4 mb-4"},pe={class:"block col-span-1 mb-2"},ue=e("span",{class:"text-gray-700"},"Report Type",-1),be=e("option",{value:"line_listing",selected:""},"line listing",-1),me=[be],he={class:"block col-span-1 mb-2"},ye=e("span",{class:"text-gray-700"},"Analyses",-1),ge=["value"],xe={class:"block col-span-1 mb-2"},ve=e("span",{class:"text-gray-700"},"States",-1),we=e("option",{value:""},null,-1),fe=e("option",{value:"publicado"},"published",-1),ke=e("option",{value:"verified"},"verified",-1),Fe=e("option",{value:"to_be_verified"},"to_be_verified",-1),De=e("option",{value:"received"},"received",-1),Se=e("option",{value:"cancelled"},"cancelled",-1),Ce=e("option",{value:"rejected"},"rejected",-1),Re=e("option",{value:"invalidated"},"invalidated",-1),Ve=e("option",{value:"due"},"due",-1),Ae=[we,fe,ke,Fe,De,Se,Ce,Re,Ve],Ee={class:"grid grid-cols-3 gap-x-4 mb-4"},Le={class:"block col-span-1 mb-2"},Pe=e("span",{class:"text-gray-700"},"Period Date Criteria",-1),Te=e("option",{value:"created_at"},"Created Date",-1),Ue=e("option",{value:"date_published"},"Published Date",-1),Be=e("option",{value:"date_submitted"},"Submission Date",-1),Me=e("option",{value:"date_verified"},"Verified Date",-1),Ge=e("option",{value:"date_cancelled"},"Cacellation Date",-1),Ne=e("option",{value:"date_invalidated"},"Invalidation Date",-1),Ye=[Te,Ue,Be,Me,Ge,Ne],$e={class:"block col-span-1 mb-2"},je=e("span",{class:"text-gray-700"},"Period Start",-1),qe={class:"block col-span-1 mb-2"},Ie=e("span",{class:"text-gray-700"},"Period End",-1),Oe=e("hr",null,null,-1),Qe=C({__name:"LineListing",setup(ze){const p=P(()=>T(()=>import("./Accordion-6b6a46a8.js"),["assets/Accordion-6b6a46a8.js","assets/index-e479c930.js","assets/index-5bc4f6f2.css"])),u=R(),{reports:b,fetchReports:w,generateReport:f,deleteReport:k}=V(),o=A({listingForm:{report_type:"",analyses_uids:[],sample_states:[],date_column:"",period_start:"",period_end:""}});E(async()=>{u.fetchAnalysesServices({first:void 0,after:"",text:"",sortBy:["name"]}),await w()});const F=()=>f({...o.listingForm}),D=r=>{const s=document.createElement("a");s.download=r.report_type+"-"+r.crated_at,s.href=U+"/"+r.location,document.body.appendChild(s),s.click(),document.body.removeChild(s)};return(r,s)=>(i(),l("div",B,[m(d(p),null,{title:c(()=>[h("Downloaded Line Listing Reports")]),body:c(()=>[e("div",M,[d(b)?.length>0?(i(),l("div",G,[e("table",N,[Y,e("tbody",$,[(i(!0),l(y,null,g(d(b),t=>(i(),l("tr",{key:t.uid},[j,e("td",q,[e("div",I,a(t.report_type),1)]),e("td",O,[e("div",z,a(t?.created_by?.first_name)+" "+a(t?.created_by?.last_name),1)]),e("td",H,[e("div",Q,a(t?.created_at),1)]),e("td",X,[e("div",J,a(t?.period_start),1)]),e("td",K,[e("div",W,a(t?.period_end),1)]),e("td",Z,[e("div",ee,a(t?.status),1)]),e("td",te,[n(e("button",{onClick:S=>D(t),class:"px-2 py-1 mr-2 border-sky-800 border text-sky-800rounded-smtransition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"}," Download ",8,se),[[x,t.status=="READY"]]),n(e("button",{onClick:S=>d(k)(t),class:"px-2 py-1 mr-2 border-orange-600 border text-orange-600rounded-smtransition duration-300 hover:bg-orange-600 hover:text-white focus:outline-none"}," Delete ",8,oe),[[x,t.status=="READY"]])])]))),128))])])])):(i(),l("div",ae,de))])]),_:1}),m(d(p),null,{title:c(()=>[h("Listing Report Request")]),body:c(()=>[e("div",re,[e("form",ce,[e("div",_e,[e("label",pe,[ue,n(e("select",{name:"report_type","onUpdate:modelValue":s[0]||(s[0]=t=>o.listingForm.report_type=t),class:"form-input mt-1 block w-full"},me,512),[[_,o.listingForm.report_type]])]),e("label",he,[ye,n(e("select",{name:"analyses_uids","onUpdate:modelValue":s[1]||(s[1]=t=>o.listingForm.analyses_uids=t),class:"form-input mt-1 block w-full",multiple:""},[(i(!0),l(y,null,g(d(u).analysesServices,t=>(i(),l("option",{key:t.uid,value:t.uid},a(t.name),9,ge))),128))],512),[[_,o.listingForm.analyses_uids]])]),e("label",xe,[ve,n(e("select",{name:"sample_states","onUpdate:modelValue":s[2]||(s[2]=t=>o.listingForm.sample_states=t),class:"form-input mt-1 block w-full",multiple:""},Ae,512),[[_,o.listingForm.sample_states]])])]),e("div",Ee,[e("label",Le,[Pe,n(e("select",{name:"date_column","onUpdate:modelValue":s[3]||(s[3]=t=>o.listingForm.date_column=t),class:"form-input mt-1 block w-full"},Ye,512),[[_,o.listingForm.date_column]])]),e("label",$e,[je,n(e("input",{name:"period_start",type:"datetime-local",class:"form-input mt-1 block w-full",autocomplete:"off","onUpdate:modelValue":s[4]||(s[4]=t=>o.listingForm.period_start=t),placeholder:"From ..."},null,512),[[v,o.listingForm.period_start]])]),e("label",qe,[Ie,n(e("input",{name:"period_end",type:"datetime-local",class:"form-input mt-1 block w-full","onUpdate:modelValue":s[5]||(s[5]=t=>o.listingForm.period_end=t),placeholder:"To ..."},null,512),[[v,o.listingForm.period_end]])])]),Oe,e("button",{type:"button",onClick:s[6]||(s[6]=L(t=>F(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])])]),_:1})]))}});export{Qe as default};
