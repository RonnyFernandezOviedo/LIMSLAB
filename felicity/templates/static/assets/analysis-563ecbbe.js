import{V as f,a8 as g,U as o,aY as m,aZ as B,a_ as d,a$ as C,b0 as A,b1 as T,B as w,ah as p}from"./index-236e333a.js";function _(){const a=f(),r=g(),{withClientMutation:n}=w(),{toastInfo:u}=p(),S=async t=>{try{await o.fire({title:"Esta seguro?",text:"Quiere cancelar este analisis",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, cancelar ahora!",cancelButtonText:"No, No cancelar!"}).then(async e=>{e.isConfirmed&&n(m,{analyses:t},"cancelAnalysisResults").then(s=>{a.updateAnalysesResultsStatus(s.results),r.updateWorksheetResultsStatus(s.results)})})}catch{}},h=async t=>{try{await o.fire({title:"Esta seguro?",text:"Usted quiere reintegrar estos analisis",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, reintegrar ahora!",cancelButtonText:"No, no reintegrar!"}).then(async e=>{e.isConfirmed&&n(B,{analyses:t},"reInstateAnalysisResults").then(s=>{a.updateAnalysesResultsStatus(s.results),r.updateWorksheetResultsStatus(s.results)})})}catch{}};function y(t){t.status==="pendiente"&&(t.result=t.editResult,n(d,[{uid:t.uid,result:t.result}],"submitAnalysisResults").then(e=>{u(e.message),a.backgroundProcessing([{uid:t.uid,result:t.result}],void 0,"cargando"),r.backgroundProcessing([{uid:t.uid,result:t.result}],void 0,"cargando")}))}return{submitResult:y,submitResults:async(t,e,s)=>{try{await o.fire({title:"Esta seguro?",text:"Usted quiere cargar estos resultados",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, cargar ahora!",cancelButtonText:"No, cancelar cargar!"}).then(async i=>{i.isConfirmed&&n(d,{analysisResults:t,sourceObject:e,sourceObjectUid:s},"submitAnalysisResults").then(c=>{u(c.message),a.backgroundProcessing(t,e==="Muestra"?s:void 0,"cargando"),r.backgroundProcessing(t,e==="worksheet"?s:void 0,"cargando")})})}catch{}},cancelResults:S,reInstateResults:h,approveResults:async(t,e,s)=>{try{await o.fire({title:"Esta seguro?",text:"Usted quiere aprobar estos resultados",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, aprobar ahora!",cancelButtonText:"No, cancelar aprobacion!"}).then(async i=>{i.isConfirmed&&n(C,{analyses:t,sourceObject:e,sourceObjectUid:s},"verifyAnalysisResults").then(c=>{u(c.message);const l=t.map(R=>({uid:R}));a.backgroundProcessing(l,e==="Muestra"?s:void 0,"aprobando"),r.backgroundProcessing(l,e==="worksheet"?s:void 0,"aprobando")})})}catch{}},retractResults:async t=>{try{await o.fire({title:"Esta seguro?",text:"Usted quiere retractar estos results",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, retractar ahora!",cancelButtonText:"No, cancelar retraccion"}).then(async e=>{e.isConfirmed&&n(A,{analyses:t},"retractAnalysisResults").then(s=>{a.updateAnalysesResults(s.results),r.updateWorksheetResultsStatus(s.results)})})}catch{}},retestResults:async t=>{try{await o.fire({title:"Esta seguro?",text:"Usted quiere reanalizar este resultado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, reanalizar ahora!",cancelButtonText:"No, cancelar reanalisis!"}).then(async e=>{e.isConfirmed&&n(T,{analyses:t},"retestAnalysisResults").then(s=>a.updateAnalysesResults(s.results))})}catch{}}}}export{_ as u};
