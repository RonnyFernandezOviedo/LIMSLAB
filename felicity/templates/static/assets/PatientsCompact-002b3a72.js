import{d as Z,O as ee,P as te,K as se,r as b,Q as oe,t as ae,a as ne,N as ie,o,c as r,e as v,u as e,b as t,f as h,v as T,w as x,h as re,G as le,F as P,y as A,I as k,L as g,i as y,z as l,j as ce,k as de,n as R,x as p,A as c,_ as ue}from"./index-22e9c43e.js";import{h as L,o as S,a as V}from"./constants-9045dc62.js";const w=f=>(ce("data-v-b0f16d87"),f=f(),de(),f),_e={class:""},pe={class:"flex justify-between"},me={class:"flex items-center content-between"},ve=w(()=>t("hr",null,null,-1)),ye={class:"grid grid-cols-12 gap-4 mt-2"},fe={initial:{opacity:0,y:100},enter:{opacity:1,y:0,scale:1},variants:{custom:{scale:2}},delay:400,class:"col-span-3 h-screen overflow-y-scroll overscroll-contain patient-scroll"},he={key:0,class:"py-4 text-center bg-white w-full mb-1 rounded-sm shadow border"},ge={key:1},be=["onClick"],xe={class:"flex-grow p-1"},Pe={class:"font-semibold text-gray-800 flex justify-between"},ke={class:"text-sm text-gray-500 flex justify-between"},we={class:"text-sm text-gray-500 flex justify-between"},Ee=w(()=>t("div",{class:"p-2"},null,-1)),Ie={key:0,initial:{opacity:0,y:-100},enter:{opacity:1,y:0,scale:1},variants:{custom:{scale:2}},delay:400,class:"col-span-9"},Ce={class:"bg-white shadow-md mt-2"},Te={class:"-mb-px flex justify-start"},Ae=["onClick"],Re=w(()=>t("h3",null,"Patient Form",-1)),Le=Z({__name:"PatientsCompact",setup(f){const D=l(()=>c(()=>import("./LoadingMessage-2cc5bc49.js"),["assets/LoadingMessage-2cc5bc49.js","assets/LoadingMessage.vue_vue_type_script_setup_true_lang-08d2c319.js","assets/index-22e9c43e.js","assets/index-5bc4f6f2.css"])),N=l(()=>c(()=>import("./PageHeading-bcb7fc2a.js"),["assets/PageHeading-bcb7fc2a.js","assets/PageHeading.vue_vue_type_script_setup_true_lang-005c275f.js","assets/index-22e9c43e.js","assets/index-5bc4f6f2.css"])),O=l(()=>c(()=>import("./AnalyisRequestListing-9575c7f5.js"),["assets/AnalyisRequestListing-9575c7f5.js","assets/index-22e9c43e.js","assets/index-5bc4f6f2.css"])),j=l(()=>c(()=>import("./CaseTable-cc1e98f3.js"),["assets/CaseTable-cc1e98f3.js","assets/index-22e9c43e.js","assets/index-5bc4f6f2.css"])),B=l(()=>c(()=>import("./AuditLog-6adc383d.js"),["assets/AuditLog-6adc383d.js","assets/AuditLog.vue_vue_type_script_setup_true_lang-9a302809.js","assets/index-22e9c43e.js","assets/index-5bc4f6f2.css"])),F=l(()=>c(()=>import("./SimpleModal-270d5930.js"),["assets/SimpleModal-270d5930.js","assets/index-22e9c43e.js","assets/index-5bc4f6f2.css","assets/SimpleModal-98e7299b.css"])),M=l(()=>c(()=>import("./PatientForm-c1b556d9.js"),["assets/PatientForm-c1b556d9.js","assets/index-22e9c43e.js","assets/index-5bc4f6f2.css","assets/vue-multiselect.esm-5382811c.js","assets/patient.mutations-1f9604cf.js","assets/array-21fdaeb3.js","assets/vue-multiselect-a538cd7c.css"])),$=l(()=>c(()=>import("./PatientInfo-a50b3d81.js"),["assets/PatientInfo-a50b3d81.js","assets/index-22e9c43e.js","assets/index-5bc4f6f2.css","assets/constants-9045dc62.js"]));let m=ee(),z=te();const{patients:K,fetchingPatients:U}=se(m);let n=b(!1),d=b("Muestras");const q=["Muestras","logs"];let u=b({}),_=oe({first:25,before:"",text:"",sortBy:["-uid"],filterAction:!1});z.fetchCountries(),m.fetchPatients(_);function G(a){_.first=100,_.before="",_.text=a.target.value,_.filterAction=!0,m.fetchPatients(_)}const H=ae(()=>Object.keys(u?.value)?.length>0);let Q=a=>a.firstName+" "+a.lastName,E=a=>{u.value=a,m.setPatient(a)},I=()=>{u.value={},m.resetPatient()};const W=async()=>{I(),n.value=!0},J=a=>{E(a),n.value=!1};return(a,i)=>{const X=ne("router-link"),C=ie("motion");return o(),r(P,null,[v(e(N),{title:"resumen solicitudes"}),t("div",_e,[t("div",pe,[t("div",me,[h(v(X,{to:"/patients/search",class:"px-4 my-2 p-1 text-sm border-sky-800 border text-dark-800 transition-colors duration-150 rounded-sm focus:outline-none hover:bg-sky-800 hover:text-gray-100"},{default:x(()=>[re(" Agregar Solicitud")]),_:1},512),[[T,L(V.CREATE,S.PATIENT)]]),t("input",{class:"w-64 ml-6 pl-4 pr-2 py-1 text-sm text-gray-800 placeholder-gray-400 border-1 border-gray-400 rounded-sm focus:placeholder-gray-500 focus:border-sky-800 focus:outline-none focus:shadow-outline-purple form-input",type:"text",placeholder:"Buscar ...","aria-label":"Search",onKeyup:i[0]||(i[0]=s=>G(s)),onFocus:i[1]||(i[1]=s=>e(I)())},null,32)]),h(t("button",{onClick:le(W,["prevent"]),class:"px-4 my-2 p-1 text-sm border-sky-800 border text-dark-700 transition-colors duration-150 rounded-sm focus:outline-none hover:bg-sky-800 hover:text-gray-100"}," Registro rapido ",512),[[T,L(V.CREATE,S.PATIENT)]])]),ve,t("div",ye,[h((o(),r("section",fe,[e(U)?(o(),r("div",he,[v(e(D),{message:"Buscando pacientes ..."})])):(o(),r("div",ge,[(o(!0),r(P,null,A(e(K),s=>(o(),r("a",{key:s.patientId,onClick:Y=>e(E)(s),class:R(["bg-white w-full flex items-center p-1 mb-1 rounded-sm shadow border",{"border-sky-800 bg-emerald-200":s.uid===e(u)?.uid}])},[t("div",xe,[t("div",Pe,[t("span",null,p(s.patientId),1)]),t("div",ke,[t("span",null,p(e(Q)(s)),1),t("span",null,p(s.clientPatientId),1)]),t("div",we,[t("span",null,p(s?.client?.district?.province?.name),1),t("span",null,p(s?.client?.name),1)])]),Ee],10,be))),128))]))])),[[C]]),H.value?h((o(),r("section",Ie,[v(e($),{onEditPatient:i[2]||(i[2]=()=>k(n)?n.value=!0:n=!0)}),t("nav",Ce,[t("div",Te,[(o(),r(P,null,A(q,s=>t("a",{key:s,class:R(["no-underline text-gray-500 uppercase tracking-wide font-bold text-xs py-1 px-4 tab hover:bg-sky-600 hover:text-gray-200 hover:bg-sky-600 hover:text-gray-200",{"tab-active":e(d)===s}]),onClick:Y=>k(d)?d.value=s:d=s},p(s),11,Ae)),64))])]),e(d)==="Muestras"?(o(),g(e(O),{key:0,target:"patient-samples",targetUid:e(u).uid},null,8,["targetUid"])):y("",!0),e(d)==="cases"?(o(),g(e(j),{key:1})):y("",!0),e(d)==="logs"?(o(),g(e(B),{key:2,targetType:"patient",targetId:e(u)?.uid},null,8,["targetId"])):y("",!0)])),[[C]]):y("",!0)]),e(n)?(o(),g(e(F),{key:0,onClose:i[3]||(i[3]=s=>k(n)?n.value=!1:n=!1),contentWidth:"w-3/6"},{header:x(()=>[Re]),body:x(()=>[v(e(M),{patient:e(u),navigate:!1,onClose:J},null,8,["patient"])]),_:1})):y("",!0)])],64)}}});const De=ue(Le,[["__scopeId","data-v-b0f16d87"]]);export{De as default};
