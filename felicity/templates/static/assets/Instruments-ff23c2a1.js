import{d as M,aG as A,S as D,r as m,Q as V,t as _,o as r,c as a,b as e,F as p,y as b,x as d,u as n,N as R,w as v,f as c,H as y,aa as f,G as F,I as B,i as O,z as P,A as $,B as G}from"./index-7e8465c2.js";import{a as j,b as L}from"./instrument.mutations-8004381b.js";const q={class:""},z={class:"container w-full my-4"},H=e("hr",null,null,-1),Q=e("hr",null,null,-1),J=e("hr",null,null,-1),K={class:"overflow-x-auto mt-4"},W={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-lg rounded-br-lg"},X={class:"min-w-full"},Y=e("thead",null,[e("tr",null,[e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Nombre"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Tipo"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Fabricante"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Proveedor"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1),Z={class:"bg-white"},ee={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},te={class:"text-sm leading-5 text-gray-800"},se={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},oe={class:"text-sm leading-5 text-gray-800"},ne={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},le={class:"text-sm leading-5 text-sky-800"},re={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},ae={class:"text-sm leading-5 text-sky-800"},ie={class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},de=["onClick"],ue={action:"post",class:"p-1"},ce={class:"grid grid-cols-3 gap-x-4 mb-4"},pe={class:"block col-span-2 mb-2"},me=e("span",{class:"text-gray-700"},"Nombre Instrumento",-1),_e={class:"block col-span-1 mb-2"},be=e("span",{class:"text-gray-700"},"Codigo-Equipo",-1),he={class:"block col-span-1 mb-2"},ye=e("span",{class:"text-gray-700 w-4/12"},"Tipo Instrumento",-1),fe={class:"w-full"},ge=e("option",null,null,-1),xe=["value"],we={class:"block col-span-1 mb-2"},ve=e("span",{class:"text-gray-700 w-4/12"},"Fabricante",-1),ke={class:"w-full"},Ue=e("option",null,null,-1),Ie=["value"],Te={class:"block col-span-1 mb-2"},Ce=e("span",{class:"text-gray-700 w-4/12"},"Proveedor",-1),Ne={class:"w-full"},Se=e("option",null,null,-1),Ee=["value"],Me={class:"block col-span-3 mb-2"},Ae=e("span",{class:"text-gray-700"},"Descripcion",-1),De=e("hr",null,null,-1),Oe=M({__name:"Instruments",setup(Ve){const k=P(()=>$(()=>import("./SimpleModal-16734371.js"),["assets/SimpleModal-16734371.js","assets/index-7e8465c2.js","assets/index-fff21e38.css","assets/SimpleModal-98e7299b.css"]));A();const l=D(),{withClientMutation:g}=G();m("view");let u=m(!1),x=m("");const h=m(!0);let s=V({});l.fetchInstrumentTypes();const U=_(()=>l.getInstrumentTypes);l.fetchInstruments();const I=_(()=>l.getInstruments);l.fetchManufacturers();const T=_(()=>l.getManufacturers);l.fetchSuppliers();const C=_(()=>l.getSuppliers);function N(){const i={name:s.name,keyword:s.keyword,description:s.description,instrumentTypeUid:s.instrumentTypeUid,manufacturerUid:s.manufacturerUid,supplierUid:s.supplierUid};g(j,{payload:i},"createInstrument").then(o=>l.addInstrument(o))}function S(){const i={name:s.name,keyword:s.keyword,description:s.description,instrumentTypeUid:s.instrumentTypeUid,manufacturerUid:s.manufacturerUid,supplierUid:s.supplierUid};g(L,{uid:s.uid,payload:i},"updateInstrument").then(o=>l.updateInstrument(o))}function w(i,o={}){h.value=i,u.value=!0,x.value=(i?"CREAR":"EDITAR")+" INSTRUMENTO",i?Object.assign(s,{}):Object.assign(s,{...o})}function E(){h.value===!0&&N(),h.value===!1&&S(),u.value=!1}return(i,o)=>(r(),a(p,null,[e("div",q,[e("div",z,[H,e("button",{class:"px-2 py-1 border-sky-800 border text-sky-800rounded-smtransition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",onClick:o[0]||(o[0]=t=>w(!0))}," Agregar Instrumento"),Q]),J,e("div",K,[e("div",W,[e("table",X,[Y,e("tbody",Z,[(r(!0),a(p,null,b(I.value,t=>(r(),a("tr",{key:t?.uid},[e("td",ee,[e("div",te,d(t?.name),1)]),e("td",se,[e("div",oe,d(t?.instrumentType?.name),1)]),e("td",ne,[e("div",le,d(t?.manufacturer?.name),1)]),e("td",re,[e("div",ae,d(t?.supplier?.name),1)]),e("td",ie,[e("button",{onClick:Re=>w(!1,t),class:"px-2 py-1 mr-2 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"},"Editar",8,de)])]))),128))])])])])]),n(u)?(r(),R(n(k),{key:0,onClose:o[8]||(o[8]=t=>B(u)?u.value=!1:u=!1)},{header:v(()=>[e("h3",null,d(n(x)),1)]),body:v(()=>[e("form",ue,[e("div",ce,[e("label",pe,[me,c(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[1]||(o[1]=t=>n(s).name=t),placeholder:"Nombre ..."},null,512),[[y,n(s).name]])]),e("label",_e,[be,c(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":o[2]||(o[2]=t=>n(s).keyword=t),placeholder:"Codigo ..."},null,512),[[y,n(s).keyword]])]),e("label",he,[ye,e("div",fe,[c(e("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":o[3]||(o[3]=t=>n(s).instrumentTypeUid=t)},[ge,(r(!0),a(p,null,b(U.value,t=>(r(),a("option",{key:t?.uid,value:t.uid},d(t?.name),9,xe))),128))],512),[[f,n(s).instrumentTypeUid]])])]),e("label",we,[ve,e("div",ke,[c(e("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":o[4]||(o[4]=t=>n(s).manufacturerUid=t)},[Ue,(r(!0),a(p,null,b(T.value,t=>(r(),a("option",{key:t?.uid,value:t.uid},d(t?.name),9,Ie))),128))],512),[[f,n(s).manufacturerUid]])])]),e("label",Te,[Ce,e("div",Ne,[c(e("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":o[5]||(o[5]=t=>n(s).supplierUid=t)},[Se,(r(!0),a(p,null,b(C.value,t=>(r(),a("option",{key:t?.uid,value:t.uid},d(t?.name),9,Ee))),128))],512),[[f,n(s).supplierUid]])])]),e("label",Me,[Ae,c(e("textarea",{cols:"2",class:"form-input mt-1 block w-full","onUpdate:modelValue":o[6]||(o[6]=t=>n(s).description=t),placeholder:"Descripcion ..."},null,512),[[y,n(s).description]])])]),De,e("button",{type:"button",onClick:o[7]||(o[7]=F(t=>E(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Guardar forma ")])]),_:1})):O("",!0)],64))}});export{Oe as default};
