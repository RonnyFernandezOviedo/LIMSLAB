import{d as R,P as F,af as $,al as G,L as q,r as f,a as D,o as a,c as d,b as t,u as o,e as b,x as n,f as r,v as H,N as j,w as E,H as h,I as y,F as x,y as w,aa as k,G as z,i as J,B as K}from"./index-7e8465c2.js";import{_ as O}from"./LoadingMessage.vue_vue_type_script_setup_true_lang-1ac11e1a.js";import Q from"./SimpleModal-16734371.js";import{A as W,E as X}from"./clients.mutations-4a0a1e4b.js";import{h as Y,o as Z,a as tt}from"./constants-71a97445.js";const et={class:""},st={class:"grid grid-cols-12 gap-4 mt-2"},ot={class:"col-span-12"},lt={class:"bg-white rounded-sm shadow-sm hover:shadow-lg duration-500 px-4 sm:px-6 md:px-2 py-4"},nt={key:0,class:"py-4 text-center"},it={key:1,class:"grid grid-cols-12 gap-3"},at={class:"col-span-12 px-3 sm:px-0"},ct={class:"flex justify-between sm:text-sm md:text-md lg:text-lg text-gray-700 font-bold"},dt=t("hr",null,null,-1),rt={class:"grid grid-cols-2 mt-2"},mt={class:"col-span-1"},ut={class:"flex"},_t=t("span",{class:"text-gray-800 text-sm font-medium w-20"},"Codigo:",-1),pt={class:"text-gray-600 text-sm md:text-md"},ft={class:"flex"},vt=t("span",{class:"text-gray-800 text-sm font-medium w-20"},"Pais:",-1),ht={class:"text-gray-600 text-sm md:text-md"},xt={class:"flex"},gt=t("span",{class:"text-gray-800 text-sm font-medium w-20"},"Provincia:",-1),bt={class:"text-gray-600 text-sm md:text-md"},yt={class:"flex"},wt=t("span",{class:"text-gray-800 text-sm font-medium w-20"},"Distrito:",-1),kt={class:"text-gray-600 text-sm md:text-md"},Ct={class:"flex"},Ut=t("span",{class:"text-gray-800 text-sm font-medium w-20"},"Direccion:",-1),Dt={class:"text-gray-600 text-sm md:text-md"},Et={class:"col-span-1"},Tt={class:"flex"},Pt=t("span",{class:"text-gray-800 text-sm font-medium w-16"},"Email:",-1),Nt={class:"text-gray-600 text-sm md:text-md"},Vt={class:"flex"},It=t("span",{class:"text-gray-800 text-sm font-medium w-16"},"Telefono:",-1),Mt={class:"text-gray-600 text-sm md:text-md"},Bt={action:"post",class:"p-1"},Lt={class:"grid grid-cols-2 gap-x-4 mb-4"},St={class:"block col-span-1 mb-2"},At=t("span",{class:"text-gray-700"},"Nombre",-1),Rt={class:"block col-span-1 mb-2"},Ft=t("span",{class:"text-gray-700"},"Email",-1),$t={class:"block col-span-1 mb-2"},Gt=t("span",{class:"text-gray-700"},"Telefono",-1),qt={class:"grid grid-cols-3 gap-x-4 mb-4"},Ht={class:"block col-span-1 mb-2"},jt=t("span",{class:"text-gray-700"},"Pais",-1),zt=t("option",null,null,-1),Jt=["value"],Kt={class:"block col-span-1 mb-2"},Ot=t("span",{class:"text-gray-700"},"Provincia",-1),Qt=t("option",null,null,-1),Wt=["value"],Xt={class:"block col-span-1 mb-2"},Yt=t("span",{class:"text-gray-700"},"Distrito",-1),Zt=t("option",null,null,-1),te=["value"],ee={class:"block col-span-1 mb-2"},se=t("span",{class:"text-gray-700"},"Direccion exacta",-1),oe=t("hr",null,null,-1),re=R({__name:"index",setup(le){const m=F(),{withClientMutation:C}=K(),T=$(),v=G(),{client:c,fetchingClient:P}=q(v);let u=f(!1),g=f(!1),U=f(""),l=f({}),_=f(),p=f();v.fetchClientByUid(T.query.clientUid),m.fetchCountries();function N(i){m.filterProvincesByCountry(_.value)}function V(i){m.filterDistrictsByProvince(p.value)}function I(i,s={}){g.value=i,U.value=`${i?"CREATE":"EDITAR"} CLIENTE`,u.value=!0,i?l.value={}:(_.value=s?.district?.province?.countryUid,p.value=s?.district?.provinceUid,l.value=s)}function M(){C(W,{payload:{name:l?.value?.name,districtUid:l?.value?.districtUid,email:l?.value?.email,phoneMobile:l?.value?.mobilePhone,clienteDireccion:l?.value?.clienteDireccion}},"createClient").then(i=>v.addClient(i))}function B(){C(X,{uid:l?.value?.uid,payload:{name:l?.value?.name,districtUid:l?.value?.districtUid,email:l?.value?.email,phoneMobile:l?.value?.mobilePhone,clienteDireccion:l?.value?.clienteDireccion}},"updateClient").then(i=>v.updateClient(i))}function L(){g.value&&M(),g.value||B(),u.value=!1,l.value={}}return(i,s)=>{const S=D("font-awesome-icon"),A=D("router-view");return a(),d(x,null,[t("div",et,[t("div",st,[t("section",ot,[t("div",lt,[o(P)?(a(),d("div",nt,[b(O,{message:"Fetching client metadata ..."})])):(a(),d("div",it,[t("div",at,[t("div",ct,[t("span",null,n(o(c)?.name),1),t("div",null,[r(t("button",{onClick:s[0]||(s[0]=e=>I(!1,o(c))),class:"p-1 ml-2 border-white border text-gray-500 text-md rounded-sm transition duration-300 hover:text-sky-800 focus:outline-none"},[b(S,{icon:"fa-edit"})],512),[[H,Y(tt.UPDATE,Z.CLIENT)]])])]),dt,t("div",rt,[t("div",mt,[t("div",ut,[_t,t("span",pt,n(o(c)?.clienteId),1)]),t("div",ft,[vt,t("span",ht,n(o(c)?.district.province?.country?.name),1)]),t("div",xt,[gt,t("span",bt,n(o(c)?.district.province?.name),1)]),t("div",yt,[wt,t("span",kt,n(o(c)?.district?.name),1)]),t("div",Ct,[Ut,t("span",Dt,n(o(c)?.clienteDireccion),1)])]),t("div",Et,[t("div",Tt,[Pt,t("span",Nt,n(o(c)?.email),1)]),t("div",Vt,[It,t("span",Mt,n(o(c)?.phoneMobile),1)])])])])]))])])]),b(A)]),o(u)?(a(),j(Q,{key:0,onClose:s[11]||(s[11]=e=>y(u)?u.value=!1:u=!1)},{header:E(()=>[t("h3",null,n(o(U)),1)]),body:E(()=>[t("form",Bt,[t("div",Lt,[t("label",St,[At,r(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[1]||(s[1]=e=>o(l).name=e),placeholder:"Nombre ..."},null,512),[[h,o(l).name]])]),t("label",Rt,[Ft,r(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[2]||(s[2]=e=>o(l).email=e),placeholder:"Email..."},null,512),[[h,o(l).email]])]),t("label",$t,[Gt,r(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[3]||(s[3]=e=>o(l).mobilePhone=e),placeholder:"Telefono ..."},null,512),[[h,o(l).mobilePhone]])])]),t("div",qt,[t("label",Ht,[jt,r(t("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":s[4]||(s[4]=e=>y(_)?_.value=e:_=e),onChange:s[5]||(s[5]=e=>N(e))},[zt,(a(!0),d(x,null,w(o(m).countries,e=>(a(),d("option",{key:e.uid,value:e.uid},n(e.name),9,Jt))),128))],544),[[k,o(_)]])]),t("label",Kt,[Ot,r(t("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":s[6]||(s[6]=e=>y(p)?p.value=e:p=e),onChange:s[7]||(s[7]=e=>V(e))},[Qt,(a(!0),d(x,null,w(o(m).provinces,e=>(a(),d("option",{key:e.uid,value:e.uid},n(e.name),9,Wt))),128))],544),[[k,o(p)]])]),t("label",Xt,[Yt,r(t("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":s[8]||(s[8]=e=>o(l).districtUid=e)},[Zt,(a(!0),d(x,null,w(o(m).districts,e=>(a(),d("option",{key:e.uid,value:e.uid},n(e.name),9,te))),128))],512),[[k,o(l).districtUid]])])]),t("label",ee,[se,r(t("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[9]||(s[9]=e=>o(l).clienteDireccion=e),placeholder:"Telefono ..."},null,512),[[h,o(l).clienteDireccion]])]),oe,t("button",{type:"button",onClick:s[10]||(s[10]=z(e=>L(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Guardar formato ")])]),_:1})):J("",!0)],64)}}});export{re as default};
