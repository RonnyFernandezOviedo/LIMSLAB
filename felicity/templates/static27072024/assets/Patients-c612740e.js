import{d as T,O as k,P as B,L as A,r as f,ai as l,aj as r,ak as I,Q as S,t as R,o as w,c as N,e as c,u as a,w as m,b as s,f as D,h as E,v as L,F as M,z as h,A as p}from"./index-7e8465c2.js";import{h as O,a as V,o as H}from"./constants-71a97445.js";const U=s("div",{class:"flex content-start items-center"},[s("span",{class:"text-sky-800"},[s("i",{class:"fas fa-info-circle"})]),s("p",{class:"ml-2 italic text-orange-600"}," Click registrar para nueva solicitud* ")],-1),F=s("hr",{class:"my-2"},null,-1),Q=T({__name:"Patients",setup(j){const v=h(()=>p(()=>import("./DataTable-2b458e5e.js"),["assets/DataTable-2b458e5e.js","assets/DataTable.vue_vue_type_script_setup_true_lang-a5014fb4.js","assets/index-7e8465c2.js","assets/index-fff21e38.css"])),g=h(()=>p(()=>import("./PageHeading-e084e044.js"),["assets/PageHeading-e084e044.js","assets/PageHeading.vue_vue_type_script_setup_true_lang-11482800.js","assets/index-7e8465c2.js","assets/index-fff21e38.css"]));let n=k(),b=B();const{patients:u,fetchingPatients:_,patientPageInfo:o}=A(n),x=f([{name:"UID",value:"uid",sortable:!0,sortBy:"asc",defaultSort:!0,showInToggler:!1,hidden:!0},{name:"ID Solicitud",value:"patientId",sortable:!1,sortBy:"asc",hidden:!1,customRender:function(e,i){return l(r,{to:{name:"patient-detail",params:{patientUid:e?.uid}},class:"px-2 mr-2 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",innerHTML:e?.patientId})}},{name:"Cliente",value:"client.name",sortable:!1,sortBy:"asc",hidden:!1},{name:"Codigo Cliente",value:"client.clienteId",sortable:!1,sortBy:"asc",hidden:!1},{name:"Correo",value:"client.email",sortable:!1,sortBy:"asc",hidden:!1},{name:"Pais",value:"client.district.province.country.name",sortable:!1,sortBy:"asc",hidden:!0},{name:"Provincia",value:"client.district.province.name",sortable:!1,sortBy:"asc",hidden:!0},{name:"Distrito",value:"client.district.name",sortable:!1,sortBy:"asc",hidden:!0},{name:"Fecha Creacion",value:"",sortable:!1,sortBy:"asc",hidden:!1,customRender:function(e,i){return l(r,{to:{name:"",params:{patientUid:e?.uid}},innerHTML:I(e.createdAt,!1)})}},{name:"",value:"",sortable:!1,sortBy:"asc",showInToggler:!1,hidden:!1,customRender:function(e,i){return l(r,{to:{name:"samples-add",params:{patientUid:e?.uid}},class:"px-2 mr-2 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",innerHTML:"Agregar Muestra(s)"})}}]);b.fetchCountries();let t=S({first:50,before:"",text:"",sortBy:["-uid"],filterAction:!1});n.fetchPatients(t);let d=f("");function y(e){t.first=100,t.before=o?.value?.endCursor??"",t.text=e.filterText,t.filterAction=!0,d.value=e.filterText,n.fetchPatients(t)}const P=R(()=>u?.value?.length+" de "+n.getPatientCount+" clientes");function C(e){t.first=e.fetchCount,t.before=o?.value?.endCursor??"",t.text=e.filterText,t.filterAction=!1,n.fetchPatients(t)}return(e,i)=>(w(),N(M,null,[c(a(g),{title:"Solicitud de Analisis"}),c(a(v),{columns:x.value,data:a(u),toggleColumns:!0,loading:a(_),paginable:!0,pageMeta:{fetchCount:a(t).first,hasNextPage:a(o)?.hasNextPage,countNone:P.value},searchable:!0,filterable:!1,onOnSearch:y,onOnPaginate:C,selectable:!1},{footer:m(()=>[s("div",null,[U,F,D(c(a(r),{to:{name:"patients-register",query:{cpid:a(d)}},class:"px-4 p-1 text-sm border-sky-800 border text-dark-700 transition-colors duration-150 rounded-sm focus:outline-none hover:bg-sky-800 hover:text-gray-100"},{default:m(()=>[E(" Registrar Nueva Solicitud ")]),_:1},8,["to"]),[[L,O(V.CREATE,H.PATIENT)]])])]),_:1},8,["columns","data","loading","pageMeta"])],64))}});export{Q as default};
