import{d as E,a9 as F,ao as L,r as p,Q as O,D as R,V as D,t as N,o as i,c as r,b as e,F as m,y as w,x as d,u as n,N as V,w as k,f as y,aa as B,H as A,G as P,I as $,i as j,z as Y,A as q,bC as G,bZ as z,B as H}from"./index-7e8465c2.js";const Q=e("hr",null,null,-1),W={class:"overflow-x-auto mt-4"},Z={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-lg rounded-br-lg"},J={class:"min-w-full"},K=e("thead",null,[e("tr",null,[e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Tipo muestra"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Limite-Min"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Limite-Max"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1),X={class:"bg-white"},ee={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},te={class:"flex items-center"},se={class:"text-sm leading-5 text-gray-800"},oe={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},ae={class:"text-sm leading-5 text-sky-800"},ne={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},le={class:"text-sm leading-5 text-sky-800"},ie={class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},re=["onClick"],de={action:"post",class:"p-1"},ce={class:"grid grid-cols-3 gap-x-4 mb-4"},ue={class:"block col-span-1 mb-2"},pe=e("span",{class:"text-gray-700 w-4/12"},"Tipo de muestra",-1),me={class:"w-full"},ye=e("option",null,null,-1),be=["value"],_e={class:"block col-span-1 mb-2"},he=e("span",{class:"text-gray-700"},"Min",-1),ge={class:"block col-span-1 mb-2"},xe=e("span",{class:"text-gray-700"},"Max",-1),fe=e("hr",null,null,-1),ke=E({__name:"LimitsDefinition",props:{analysis:{type:Object,required:!0,default:()=>({})},analysisUid:{type:String,required:!0,default:0}},setup(C){const T=Y(()=>q(()=>import("./SimpleModal-16734371.js"),["assets/SimpleModal-16734371.js","assets/index-7e8465c2.js","assets/index-fff21e38.css","assets/SimpleModal-98e7299b.css"])),b=F(),{withClientMutation:_}=H(),h=C,{analysis:g}=L(h);let l=p(!1),x=p(""),a=O({});const c=p(!0);R(()=>h.analysisUid,(o,t)=>{});const f=D();f.fetchSampleTypes;const u=N(()=>f.getSampleTypes);function S(){const o={...a,analysisUid:g?.value?.uid};_(G,{payload:o},"createAnalysisMapping").then(t=>b.AddAnalysisLimits(t))}const M=o=>{const t=u?.value?.findIndex(s=>s.uid===o);return u?.value[t]?.name||"unknown"};function I(){const o={...a};delete o.uid,delete o.__typename,_(z,{uid:a.uid,payload:o},"updateAnalysisCorrectionFactor").then(t=>b.updateAnalysisCorrectionFactor(t))}function v(o,t={}){c.value=o,l.value=!0,x.value=(o?"CREATE":"EDIT")+" ANALYSIS CORRECTION FACTOR",o?Object.assign(a,{name:"",code:"",sampleTypeUid:void 0}):Object.assign(a,{...t})}function U(){c.value===!0&&S(),c.value===!1&&I(),l.value=!1}return(o,t)=>(i(),r(m,null,[e("button",{class:"px-2 py-1 border-sky-800 border text-sky-800rounded-smtransition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",onClick:t[0]||(t[0]=s=>v(!0))},"Agregar limites"),Q,e("div",W,[e("div",Z,[e("table",J,[K,e("tbody",X,[(i(!0),r(m,null,w(n(g)?.analysisLimits,s=>(i(),r("tr",{key:s?.uid},[e("td",ee,[e("div",te,[e("div",null,[e("div",se,d(M(s?.sampleTypeUid)),1)])])]),e("td",oe,[e("div",ae,d(s.code),1)]),e("td",ne,[e("div",le,d(s.name),1)]),e("td",ie,[e("button",{onClick:ve=>v(!1,s),class:"px-2 py-1 mr-2 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"},"Editar",8,re)])]))),128))])])])]),n(l)?(i(),V(n(T),{key:0,onClose:t[5]||(t[5]=s=>$(l)?l.value=!1:l=!1),contentWidth:"w-2/4"},{header:k(()=>[e("h3",null,d(n(x)),1)]),body:k(()=>[e("form",de,[e("div",ce,[e("label",ue,[pe,e("div",me,[y(e("select",{class:"form-select mt-1 w-full","onUpdate:modelValue":t[1]||(t[1]=s=>n(a).sampleTypeUid=s)},[ye,(i(!0),r(m,null,w(u.value,s=>(i(),r("option",{key:s?.uid,value:s.uid},d(s?.name),9,be))),128))],512),[[B,n(a).sampleTypeUid]])])]),e("label",_e,[he,y(e("input",{type:"string",class:"form-input mt-1 block w-full","onUpdate:modelValue":t[2]||(t[2]=s=>n(a).code=s),placeholder:"Min ..."},null,512),[[A,n(a).code]])]),e("label",ge,[xe,y(e("input",{type:"string",class:"form-input mt-1 block w-full","onUpdate:modelValue":t[3]||(t[3]=s=>n(a).name=s),placeholder:"Max ..."},null,512),[[A,n(a).name]])])]),fe,e("button",{type:"button",onClick:t[4]||(t[4]=P(s=>U(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):j("",!0)],64))}});export{ke as default};
