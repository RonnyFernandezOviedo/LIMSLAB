import{d as ie,a9 as de,V as re,S as ce,r as h,Q as O,t as x,o as a,c as d,b as e,F as _,y as g,G as M,n as S,u as l,x as r,I as E,e as L,w as f,h as $,f as p,ab as R,i as w,N as j,H as v,aa as B,z as T,A as V,bw as ue,bx as pe,by as _e,bz as me,B as he}from"./index-60c5f486.js";const ge={class:""},ye={class:"container w-full my-4"},be=e("hr",null,null,-1),fe=e("hr",null,null,-1),ve=e("hr",null,null,-1),xe={class:"grid grid-cols-12 gap-4 mt-2"},ke={class:"col-span-3 overflow-y-scroll overscroll-contain patient-scrol"},we=["onClick"],Se={class:"cursor-pointer"},Ae={class:"flex-grow p-1"},Pe={class:"font-medium text-gray-500 hover:text-gray-700 flex justify-between"},Ce=e("span",{class:"text-sm text-gray-500"},null,-1),Ue={key:0,class:"col-span-9"},Me={class:"bg-white rounded-sm shadow-sm hover:shadow-lg duration-500 px-4 sm:px-6 md:px-2 py-4"},Ee={class:"grid grid-cols-12 gap-3"},Te={class:"col-span-12 px-3 sm:px-0"},Ve={class:"flex justify-between sm:text-sm md:text-md lg:text-lg text-gray-700 font-bold"},De=e("svg",{class:"w-4 h-4 fill-current",viewBox:"0 0 20 20"},[e("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1),Ie=[De],Fe={class:"bg-white shadow-md mt-2"},Ne={class:"-mb-px flex justify-start"},Oe=["onClick"],Le={class:"mt-2 p-2 bg-white"},$e={key:0},Re=e("h3",null,"General",-1),je=e("hr",null,null,-1),Be=e("input",{type:"text"},null,-1),ze=[Re,je,Be],Ge={key:1},Ke=e("h3",null,"Analyses",-1),Ye=e("hr",null,null,-1),He={class:"col-span-4 overflow-y-scroll overscroll-contain analyses-scroll bg-white p-1"},Qe={class:"grid grid-cols-6 gap-2 w-full"},qe={class:"flex-grow p-1"},Je={class:S(["font-medium text-gray-500 hover:text-gray-700",{"text-gray-700 font-medium":!1}])},We=["id","onUpdate:modelValue"],Xe=["for"],Ze=e("hr",null,null,-1),et={key:2},tt={class:"flex justify-between items-center mb-2"},st=e("h3",null,"Concept Mappings",-1),ot=e("hr",null,null,-1),lt={class:"overflow-x-auto mt-4"},nt={class:"align-middle inline-block min-w-full shadow overflow-hidden bg-white shadow-dashboard px-2 pt-1 rounded-bl-lg rounded-br-lg"},at={class:"min-w-full"},it=e("thead",null,[e("tr",null,[e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Coding Standard"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Name"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Code"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300 text-left text-sm leading-4 text-gray-800 tracking-wider"},"Description"),e("th",{class:"px-1 py-1 border-b-2 border-gray-300"})])],-1),dt={class:"bg-white"},rt={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},ct={class:"flex items-center"},ut={class:"text-sm leading-5 text-gray-800"},pt={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},_t={class:"text-sm leading-5 text-sky-800"},mt={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},ht={class:"text-sm leading-5 text-sky-800"},gt={class:"px-1 py-1 whitespace-no-wrap border-b border-gray-500"},yt={class:"text-sm leading-5 text-sky-800"},bt={class:"px-1 py-1 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5"},ft=["onClick"],vt={key:3},xt=e("h3",null,"Billing",-1),kt=e("hr",null,null,-1),wt=[xt,kt],St={action:"post",class:"p-1"},At={class:"grid grid-cols-2 gap-x-4 mb-4"},Pt={class:"block col-span-2 mb-2"},Ct=e("span",{class:"text-gray-700"},"Analysis Profile Name",-1),Ut={class:"block col-span-2 mb-2"},Mt=e("span",{class:"text-gray-700"},"keyword",-1),Et={class:"block col-span-2 mb-2"},Tt=e("span",{class:"text-gray-700"},"Sample Types",-1),Vt={class:"block col-span-2 mb-2"},Dt=e("span",{class:"text-gray-700"},"Description",-1),It={class:"block col-span-1 mb-2"},Ft=e("span",{class:"text-gray-700"},"Department",-1),Nt=e("option",null,null,-1),Ot=["value"],Lt={for:"toggle",class:"text-xs text-gray-700 mr-4"},$t={class:"relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in"},Rt=e("label",{for:"toggle",class:"toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"},null,-1),jt=e("hr",null,null,-1),Bt={action:"post",class:"p-1"},zt={class:"grid grid-cols-2 gap-x-4 mb-4"},Gt={class:"block col-span-2 mb-2"},Kt=e("span",{class:"text-gray-700"},"Coding Standard",-1),Yt=e("option",null,null,-1),Ht=["value"],Qt={class:"block col-span-2 mb-2"},qt=e("span",{class:"text-gray-700"},"Standard Name",-1),Jt={class:"block col-span-2 mb-2"},Wt=e("span",{class:"text-gray-700"},"Standard Code",-1),Xt={class:"block col-span-2 mb-2"},Zt=e("span",{class:"text-gray-700"},"Standard Description",-1),es=e("hr",null,null,-1),os=ie({__name:"AnalysesProfiles",setup(ts){const z=T(()=>V(()=>import("./vue-multiselect.esm-8b3aa09d.js"),["assets/vue-multiselect.esm-8b3aa09d.js","assets/index-60c5f486.js","assets/index-a964bbb1.css"])),D=T(()=>V(()=>import("./SimpleModal-72c52623.js"),["assets/SimpleModal-72c52623.js","assets/index-60c5f486.js","assets/index-a964bbb1.css","assets/SimpleModal-98e7299b.css"])),G=T(()=>V(()=>import("./Accordion-92e5edb9.js"),["assets/Accordion-92e5edb9.js","assets/index-60c5f486.js","assets/index-a964bbb1.css"])),c=de(),K=re(),Y=ce(),{withClientMutation:k}=he();let m=h("view");const H=["view","analyses-services","mappings","financials"];let y=h(!1),A=h("");const P=h(!0);let o=O({});const Q=x(()=>K.getSampleTypes),q=x(()=>Y.getDepartments);c.fetchAnalysesProfilesAndServices();const C=x(()=>c.getAnalysesServices),J=x(()=>c.getAnalysesProfiles);function W(){const n={name:o.name,keyword:o.keyword,description:o.description,departmentUid:o.departmentUid,sampleTypes:o.sampleTypes?.map(s=>s.uid),active:o.active};k(ue,{payload:n},"createProfile").then(s=>c.addAnalysisProfile(s))}function I(){const n={name:o.name,keyword:o.keyword,description:o.description,departmentUid:o.departmentUid,active:o.active,services:o.analyses?.map(s=>s.uid),sampleTypes:o.sampleTypes?.map(s=>s.uid)};k(pe,{uid:o.uid,payload:n},"updateProfile").then(s=>c.updateAnalysesProfile(s))}function X(n){Object.assign(o,{...n}),C.value?.forEach(s=>{s[1].forEach(t=>{t.checked=!1,t.profiles?.some(u=>u.uid===o.uid)&&(t.checked=!0)})}),c.fetchProfileMappings(n?.uid)}function Z(){const n=[];C.value?.forEach(s=>{s[1].forEach(t=>{t.checked&&n.push(t)})}),o.analyses=n,I()}function F(n,s={}){P.value=n,y.value=!0,A.value=(n?"CREATE":"EDIT")+" ANALYSES PROFILE",n?Object.assign(o,{}):Object.assign(o,{...s})}function ee(){P.value===!0&&W(),P.value===!1&&I(),y.value=!1}c.fetchCodingStandards();const te=x(()=>c.profileMapings?.filter(n=>n.profileUid===o?.uid));let b=h(!1),se=h("");const U=h(!0),i=O({uid:void 0,profileUid:void 0,codingStandardUid:void 0,name:"",code:"",description:""});function oe(){const n={profileUid:o?.uid,codingStandardUid:i.codingStandardUid,name:i.name,code:i.code,description:i.description};k(_e,{payload:n},"createProfileMapping").then(s=>c.addProfileMapping(s))}function le(){const n={profileUid:o?.uid,codingStandardUid:i.codingStandardUid,name:i.name,code:i.code,description:i.description};k(me,{uid:i.uid,payload:n},"updateProfileMapping").then(s=>c.updateProfileMapping(s))}function N(n,s={}){U.value=n,b.value=!0,se.value=(n?"CREATE":"EDIT")+" CONCEPT MAPPING",n?Object.assign(i,{}):Object.assign(i,{...s})}function ne(){U.value===!0&&oe(),U.value===!1&&le(),b.value=!1}return(n,s)=>(a(),d(_,null,[e("div",ge,[e("div",ye,[be,e("button",{class:"px-2 py-1 border-sky-800 border text-sky-800rounded-smtransition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",onClick:s[0]||(s[0]=t=>F(!0))}," Add Analyses Profile "),fe]),ve,e("div",xe,[e("section",ke,[e("ul",null,[(a(!0),d(_,null,g(J.value,t=>(a(),d("li",{key:t.uid,onClick:M(u=>X(t),["prevent","stop"]),class:S(["bg-white w-full p-1 mb-1 rounded",{"border-gray-100 bg-emerald-200":t?.uid===l(o)?.uid}])},[e("a",Se,[e("div",Ae,[e("div",Pe,[e("span",null,r(t?.name),1),Ce])])])],10,we))),128))])]),l(o)?.uid!==void 0?(a(),d("section",Ue,[e("div",Me,[e("div",Ee,[e("div",Te,[e("div",Ve,[e("span",null,r(l(o)?.name),1),e("div",null,[e("button",{onClick:s[1]||(s[1]=t=>F(!1)),class:"ml-4 inline-flex items-center justify-center w-8 h-8 mr-2 border-sky-800 border text-gray-900 transition-colors duration-150 bg-white rounded-full focus:outline-none hover:bg-gray-200"},Ie)])])])])]),e("nav",Fe,[e("div",Ne,[(a(),d(_,null,g(H,t=>e("a",{key:t,class:S(["no-underline text-gray-500 uppercase tracking-wide font-bold text-xs py-1 px-4 tab hover:bg-sky-600 hover:text-gray-200",{"tab-active":l(m)===t}]),onClick:u=>E(m)?m.value=t:m=t},r(t),11,Oe)),64))])]),e("section",Le,[l(m)==="view"?(a(),d("div",$e,ze)):l(m)==="analyses-services"?(a(),d("div",Ge,[Ke,Ye,e("section",He,[e("div",Qe,[(a(!0),d(_,null,g(C.value,t=>(a(),d("div",{class:"col-span-2",key:t[0]},[L(l(G),null,{title:f(()=>[$(r(t[0]),1)]),body:f(()=>[e("div",null,[e("ul",null,[(a(!0),d(_,null,g(t[1],u=>(a(),d("li",{key:u?.uid,class:S(["cursor-pointer",[{"border-sky-800 bg-gray-200 underline pl-3":!1}]])},[e("div",qe,[e("div",Je,[p(e("input",{type:"checkbox",id:`toggle-${u?.uid}`,class:"form-control","onUpdate:modelValue":ae=>u.checked=ae},null,8,We),[[R,u.checked]]),e("label",{for:`toggle-${u?.uid}`,class:"text-gray-700 ml-4"},r(u?.name),9,Xe)])]),Ze]))),128))])])]),_:2},1024)]))),128))]),e("button",{class:"px-2 py-1 border-sky-800 border text-sky-800rounded-smtransition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none",onClick:s[2]||(s[2]=t=>Z())}," Update Analtsis Profile ")])])):w("",!0),l(m)=="mappings"?(a(),d("div",et,[e("div",tt,[st,e("button",{onClick:s[3]||(s[3]=t=>N(!0)),class:"px-2 py-1 border-sky-800 border text-sky-800rounded-smtransition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"},"Add Mapping")]),ot,e("div",lt,[e("div",nt,[e("table",at,[it,e("tbody",dt,[(a(!0),d(_,null,g(te.value,t=>(a(),d("tr",{key:t},[e("td",rt,[e("div",ct,[e("div",ut,r(t.codingStandard?.name),1)])]),e("td",pt,[e("div",_t,r(t.name),1)]),e("td",mt,[e("div",ht,r(t.code),1)]),e("td",gt,[e("div",yt,r(t.description),1)]),e("td",bt,[e("button",{onClick:u=>N(!1,t),class:"px-2 py-1 mr-2 border-sky-800 border text-sky-800 rounded-sm transition duration-300 hover:bg-sky-800 hover:text-white focus:outline-none"},"Edit",8,ft)])]))),128))])])])])])):(a(),d("div",vt,wt))])])):w("",!0)])]),l(y)?(a(),j(l(D),{key:0,onClose:s[11]||(s[11]=t=>E(y)?y.value=!1:y=!1)},{header:f(()=>[e("h3",null,r(l(A)),1)]),body:f(()=>[e("form",St,[e("div",At,[e("label",Pt,[Ct,p(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[4]||(s[4]=t=>l(o).name=t),placeholder:"Name ..."},null,512),[[v,l(o).name]])]),e("label",Ut,[Mt,p(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[5]||(s[5]=t=>l(o).keyword=t),placeholder:"Keyword ..."},null,512),[[v,l(o).keyword]])]),e("label",Et,[Tt,L(l(z),{modelValue:l(o).sampleTypes,"onUpdate:modelValue":s[6]||(s[6]=t=>l(o).sampleTypes=t),options:Q.value,multiple:!0,searchable:!0,label:"name","track-by":"uid"},null,8,["modelValue","options"])]),e("label",Vt,[Dt,p(e("textarea",{cols:"2",class:"form-input mt-1 block w-full","onUpdate:modelValue":s[7]||(s[7]=t=>l(o).description=t),placeholder:"Description ..."},null,512),[[v,l(o).description]])]),e("label",It,[Ft,p(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":s[8]||(s[8]=t=>l(o).departmentUid=t)},[Nt,(a(!0),d(_,null,g(q.value,t=>(a(),d("option",{key:t.uid,value:t?.uid},r(t.name),9,Ot))),128))],512),[[B,l(o).departmentUid]])]),e("label",Lt,[$("Active "),e("div",$t,[p(e("input",{type:"checkbox",name:"toggle",id:"toggle","onUpdate:modelValue":s[9]||(s[9]=t=>l(o).active=t),class:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer outline-none"},null,512),[[R,l(o).active]]),Rt])])]),jt,e("button",{type:"button",onClick:s[10]||(s[10]=M(t=>ee(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):w("",!0),l(b)?(a(),j(l(D),{key:1,onClose:s[17]||(s[17]=t=>E(b)?b.value=!1:b=!1)},{header:f(()=>[e("h3",null,r(l(A)),1)]),body:f(()=>[e("form",Bt,[e("div",zt,[e("label",Gt,[Kt,p(e("select",{class:"form-select block w-full mt-1","onUpdate:modelValue":s[12]||(s[12]=t=>i.codingStandardUid=t)},[Yt,(a(!0),d(_,null,g(l(c).codingStandards,t=>(a(),d("option",{key:t.uid,value:t?.uid},r(t.name),9,Ht))),128))],512),[[B,i.codingStandardUid]])]),e("label",Qt,[qt,p(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[13]||(s[13]=t=>i.name=t),placeholder:"Keyword ..."},null,512),[[v,i.name]])]),e("label",Jt,[Wt,p(e("input",{class:"form-input mt-1 block w-full","onUpdate:modelValue":s[14]||(s[14]=t=>i.code=t),placeholder:"Keyword ..."},null,512),[[v,i.code]])]),e("label",Xt,[Zt,p(e("textarea",{cols:"2",class:"form-input mt-1 block w-full","onUpdate:modelValue":s[15]||(s[15]=t=>i.description=t),placeholder:"Description ..."},null,512),[[v,i.description]])])]),es,e("button",{type:"button",onClick:s[16]||(s[16]=M(t=>ne(),["prevent"])),class:"-mb-4 w-full border border-sky-800 bg-sky-800 text-white rounded-sm px-4 py-2 m-2 transition-colors duration-500 ease select-none hover:bg-sky-800 focus:outline-none focus:shadow-outline"}," Save Form ")])]),_:1})):w("",!0)],64))}});export{os as default};
