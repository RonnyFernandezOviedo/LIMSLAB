import{V as y,a8 as R,U as o,aY as f,aZ as B,a_ as d,a$ as C,b0 as A,b1 as T,B as p,ah as w}from"./index-60c5f486.js";function L(){const a=y(),r=R(),{withClientMutation:n}=p(),{toastInfo:u}=w(),S=async t=>{try{await o.fire({title:"Esta seguro?",text:"Quiere cancelar este analisis",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, cancelar ahora!",cancelButtonText:"No, No cancelar!"}).then(async s=>{s.isConfirmed&&n(f,{analyses:t},"cancelAnalysisResults").then(e=>{a.updateAnalysesResultsStatus(e.results),r.updateWorksheetResultsStatus(e.results)})})}catch{}},g=async t=>{try{await o.fire({title:"Esta seguro?",text:"Usted quiere reintegrar estos analisis",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, reintegrar ahora!",cancelButtonText:"No, no reintegrar!"}).then(async s=>{s.isConfirmed&&n(B,{analyses:t},"reInstateAnalysisResults").then(e=>{a.updateAnalysesResultsStatus(e.results),r.updateWorksheetResultsStatus(e.results)})})}catch{}};function h(t){t.status==="pending"&&(t.result=t.editResult,n(d,[{uid:t.uid,result:t.result}],"submitAnalysisResults").then(s=>{u(s.message),a.backgroundProcessing([{uid:t.uid,result:t.result}],void 0,"submitting"),r.backgroundProcessing([{uid:t.uid,result:t.result}],void 0,"submitting")}))}return{submitResult:h,submitResults:async(t,s,e)=>{try{await o.fire({title:"Esta seguro?",text:"Usted quiere cargar estos resultados",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, cargar ahora!",cancelButtonText:"No, cancelar cargar!"}).then(async i=>{i.isConfirmed&&n(d,{analysisResults:t,sourceObject:s,sourceObjectUid:e},"submitAnalysisResults").then(l=>{u(l.message),a.backgroundProcessing(t,s==="sample"?e:void 0,"submitting"),r.backgroundProcessing(t,s==="worksheet"?e:void 0,"submitting")})})}catch{}},cancelResults:S,reInstateResults:g,approveResults:async(t,s,e)=>{try{await o.fire({title:"Esta seguro?",text:"Usted quiere aprobar estos resultados",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, aprobar ahora!",cancelButtonText:"No, cancelar aprobacion!"}).then(async i=>{i.isConfirmed&&n(C,{analyses:t,sourceObject:s,sourceObjectUid:e},"verifyAnalysisResults").then(l=>{u(l.message);const c=t.map(m=>({uid:m}));a.backgroundProcessing(c,s==="sample"?e:void 0,"approving"),r.backgroundProcessing(c,s==="worksheet"?e:void 0,"approving")})})}catch{}},retractResults:async t=>{try{await o.fire({title:"Esta seguro?",text:"Usted quiere retractar estos results",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, retractar ahora!",cancelButtonText:"No, cancelar retraccion"}).then(async s=>{s.isConfirmed&&n(A,{analyses:t},"retractAnalysisResults").then(e=>{a.updateAnalysesResults(e.results),r.updateWorksheetResultsStatus(e.results)})})}catch{}},retestResults:async t=>{try{await o.fire({title:"Esta seguro?",text:"Usted quiere reanalizar este resultado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, reanalizar ahora!",cancelButtonText:"No, cancelar reanalisis!"}).then(async s=>{s.isConfirmed&&n(T,{analyses:t},"retestAnalysisResults").then(e=>a.updateAnalysesResults(e.results))})}catch{}}}}export{L as u};
